{"remainingRequest":"/Users/antoine/.config/yarn/global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/antoine/Code/ds-components-image/Illustration.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/antoine/Code/ds-components-image/Illustration.vue","mtime":1606214373832},{"path":"/Users/antoine/.config/yarn/global/node_modules/cache-loader/dist/cjs.js","mtime":1604389901219},{"path":"/Users/antoine/.config/yarn/global/node_modules/vue-loader/lib/index.js","mtime":1606206886092}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgplbnVtIExvYWRpbmcgewogIExhenkgPSAnbGF6eScsCiAgRWFnZXIgPSAnZWFnZXInLAp9CgpleHBvcnQgZGVmYXVsdCB7CiAgaW5oZXJpdEF0dHJzOiBmYWxzZSwKCiAgcHJvcHM6IHsKICAgIGxvYWRpbmc6IHsKICAgICAgdHlwZTogTG9hZGluZywKICAgICAgZGVmYXVsdDogTG9hZGluZy5MYXp5LAogICAgfSwKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXJyb3I6IGZhbHNlLAogICAgICBkb3dubG9hZGluZzogdGhpcy5sb2FkaW5nID09PSBMb2FkaW5nLkxhenksCiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGhhc1NvdXJjZXMoKSB7CiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuJHNsb3RzLnNvdXJjZXMpCiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIG9uTG9hZCgpIHsKICAgICAgdGhpcy5kb3dubG9hZGluZyA9IGZhbHNlCiAgICB9LAoKICAgIG9uRXJyb3IoKSB7CiAgICAgIHRoaXMuZXJyb3IgPSB0cnVlCiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["Illustration.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Illustration.vue","sourceRoot":".","sourcesContent":["<template>\n  <div>\n    <!-- The template we show when the request fails for whatever reason. -->\n    <!-- It may be overriden using the `error` slot from the parent. -->\n    <slot name=\"error\" v-if=\"error\">\n      <!-- TODO: Use an icon instead. -->\n      <div>Oops!</div>\n    </slot>\n\n    <!-- The template we show when the image is being downloaded. -->\n    <!-- The visual is defined on the consumer side. -->\n    <slot name=\"placeholder\" v-else-if=\"downloading\" />\n\n    <!-- Using the `sources` slot, we may pass source elements to -->\n    <!-- request different files based on media queries. -->\n    <picture v-if=\"hasSources && error === false\">\n      <slot name=\"sources\" />\n      <img\n        v-bind=\"$attrs\"\n        :class=\"$style.image\"\n        :loading=\"loading\"\n        v-on=\"$listeners\"\n        @load=\"onLoad\"\n        @error=\"onError\"\n      />\n    </picture>\n\n    <!-- The most simple case. -->\n    <img\n      v-else-if=\"error === false\"\n      v-bind=\"$attrs\"\n      :class=\"$style.image\"\n      :loading=\"loading\"\n      v-on=\"$listeners\"\n      @load=\"onLoad\"\n      @error=\"onError\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nenum Loading {\n  Lazy = 'lazy',\n  Eager = 'eager',\n}\n\nexport default {\n  inheritAttrs: false,\n\n  props: {\n    loading: {\n      type: Loading,\n      default: Loading.Lazy,\n    },\n  },\n\n  data() {\n    return {\n      error: false,\n      downloading: this.loading === Loading.Lazy,\n    }\n  },\n\n  computed: {\n    hasSources() {\n      return Boolean(this.$slots.sources)\n    },\n  },\n\n  methods: {\n    onLoad() {\n      this.downloading = false\n    },\n\n    onError() {\n      this.error = true\n    },\n  },\n}\n</script>\n\n<style module>\n.image {\n  max-width: 100%;\n}\n</style>\n"]}]}